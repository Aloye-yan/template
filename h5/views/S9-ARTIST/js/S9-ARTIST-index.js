$(document).ready(function(){$(window).on("beforeunload",function(){$(window).scrollTop(0)}),O(),$("#videoModal").on("show.bs.modal",function(i){let t=$(i.relatedTarget),s=t.data("videofly"),o=t.data("title");$("#modal-title").html(o),$(this).find("iframe").attr({src:s,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"})});const L=window.OVERALL_LIST;function E(){const i=document.querySelector(".overall-wrapper .swiper-wrapper");let t="";L.forEach(s=>{s.type==="double"?(t+='<div class="swiper-slide slide-item double">',s.list.forEach(o=>{t+=`
            <div class="double-item" data-to-wrapper="${o.id}">
              <img src="${o.bgSrc}" alt="" class="slide-item_bg">
              <div class="slide-item_content">
                <div class="slide-item_content_title">${o.title}</div>
                <div class="slide-item_content_desc">${o.desc}</div>
              </div>
            </div>`}),t+="</div>"):t+=`
        <div class="swiper-slide slide-item" data-to-wrapper="${s.id}">
          <img src="${s.bgSrc}" alt="" class="slide-item_bg">
          <div class="slide-item_content">
            <div class="slide-item_content_title">${s.title}</div>
            <div class="slide-item_content_desc">${s.desc}</div>
          </div>
        </div>`}),i.innerHTML=t,new Swiper(".overall-swiper",{slidesPerView:"auto",spaceBetween:12,centeredSlides:!0,loop:!1,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),i.addEventListener("click",function(s){const o=s.target.closest(".slide-item, .double-item");if(o){const n=o.getAttribute("data-to-wrapper"),e=document.getElementById(n);e&&e.scrollIntoView({behavior:"smooth"})}})}const f=document.querySelector(".gif-wrapper video"),d=document.querySelector(".gif-wrapper .gif-wrapper_content");function u(i,t,s){const o={root:null,rootMargin:"0px",threshold:.1},n=document.querySelectorAll(i);let e=t;const c=new IntersectionObserver((l,r)=>{l.forEach(a=>{a.isIntersecting&&(setTimeout(()=>{a.target.classList.add("visible"),r.unobserve(a.target)},e),e+=s)})},o);n.forEach(l=>{c.observe(l)})}const I=["https://static-ussite.tineco.com/%E5%A5%96%E9%A1%B9-1.png_eea44313-2.png","https://static-ussite.tineco.com/%E5%A5%96%E9%A1%B9-2.png_9a873b23-b.png","https://static-ussite.tineco.com/%E5%A5%96%E9%A1%B9-3.png_f09ba8ca-c.png","https://static-ussite.tineco.com/%E5%A5%96%E9%A1%B9-4.png_d71bbb93-b.png","https://static-ussite.tineco.com/%E5%A5%96%E9%A1%B9-5.png_f4cf9226-9.png","https://static-ussite.tineco.com/%E5%A5%96%E9%A1%B9-6.png_8deca155-d.png","https://static-ussite.tineco.com/%E5%A5%96%E9%A1%B9-7.png_d2c35860-d.png"];function S(){let i="";I.forEach(t=>{i+=`
      <div class="media-item">
        <img src="${t}" alt="">
      </div>
    `}),$(".media-wrapper_content").html(i),u(".media-item",0,100)}const T=window.AESTHETICS_LIST;function A(){let i="";T.forEach(t=>{i+=`
      <div class="aesthetics-item">
        <img src="${t.img}" alt="" class="aesthetics-item_img">
        <div class="aesthetics-item_title listting_base-subtitle">${t.title}</div>
      </div>
    `}),$(".aesthetics-wrapper").html(i),u(".aesthetics-item",0,100)}let p=!1;function H(i){const t=$(i).find(".module-header"),s=t.find(".module-header_title"),o=$(i).find(".listting-module_content"),n=$(i).find(".listting-module_content .listting-content_content"),e=$(i).find(".listting-content_marks"),c=i.getBoundingClientRect().bottom,l=t[0].getBoundingClientRect().bottom,r=window.innerHeight,a=c-l;a<1.8*r&&!p?(p=!0,s.css({transform:"scale(3, 3)",opacity:"0"}),setTimeout(()=>{o.css("opacity","1")},300),n.length>0&&n.addClass("visible"),e.each(function(b,m){setTimeout(function(){$(m).addClass("visible")},b*300)})):a>=1.8*r&&p&&(p=!1,e.each(function(b,m){$(m).removeClass("visible")}),n.length>0&&n.removeClass("visible"),o.css("opacity","0"),s.css({transform:"scale(1, 1)",opacity:"1"}))}const v=document.querySelector(".mainpro-wrapper"),w=document.querySelectorAll(".product-item_img"),M=w.length,B=.5*window.innerHeight;let g=!1;function h(){const i=window.scrollY,t=v.offsetTop,s=(i-t)/B;let o=Math.floor(s);o=Math.min(o,M-1),w.forEach((n,e)=>{e<=o&&n.classList.add("show")})}function C(){const i=window.GIFT_LIST,t=document.querySelector(".giflist-wrapper_content");t.innerHTML="";let s="";i.forEach((n,e)=>{const c=`src="${n.videoSrc}" autoplay loop muted  playsinline class="giflist-wrapper_gif-item_video "`;s+=`
        <div class="giflist-wrapper_gif-item">
          <video ${c}></video>
          <div class="giflist-wrapper_gif-item_title">${n.title}</div>
          <div class="giflist-wrapper_gif-item_desc">${n.description}</div>
        </div>
      `}),t.innerHTML=s,t.querySelectorAll(".giflist-wrapper_gif-item").forEach((n,e)=>{setTimeout(()=>{n.classList.add("visible")},e*200)})}function q(){document.querySelectorAll(".giflist-wrapper_gif-item").forEach(t=>{t.classList.remove("visible")})}let _=!1;const x=window.SWIPER_LIST;function V(){const i=$(".selling-wrapper .swiper-wrapper");x.forEach(t=>{const s='<div class="swiper-slide selling-item"><img src="'+t.imgSrc+'" alt="" class="selling-item_img"><div class="selling-item_content"><div class="selling-item_content_title">'+t.title+'</div><div class="selling-item_content_subtitle">'+t.subtitle+"</div></div></div>";i.append(s)}),new Swiper(".selling-swiper",{slidesPerView:"auto",spaceBetween:12,centeredSlides:!0,loop:!1}),_=!0}function O(){const i={root:null,rootMargin:"0px",threshold:.1},t=(o,n)=>{o.forEach(e=>{if(e.target.classList.contains("media-wrapper")&&e.isIntersecting)S(),n.unobserve(e.target);else if(e.target.classList.contains("overall-wrapper")&&e.isIntersecting)E(),n.unobserve(e.target);else if(e.target.classList.contains("gif-wrapper"))e.isIntersecting?(f.play(),d.classList.add("in-view"),d.classList.remove("out-of-view")):(f.pause(),d.classList.add("out-of-view"),d.classList.remove("in-view"));else if(e.target.classList.contains("aesthetics-wrapper")&&e.isIntersecting)A(),n.unobserve(e.target);else if(e.target.classList.contains("listting-module-wrapper"))e.isIntersecting?$(document).on("scroll.listtingModule",()=>H(e.target)):$(document).off("scroll.listtingModule");else if(e.target.classList.contains("listting-content_step")){const c=e.target.querySelectorAll(".listting-content_step_text");e.isIntersecting?c.forEach((l,r)=>{const a=r*300;setTimeout(()=>{l.classList.add("visible")},a)}):c.forEach(l=>{l.classList.remove("visible")})}else e.target.classList.contains("giflist-wrapper_content")?e.isIntersecting?C():q():e.target.classList.contains("rotating-wrapper_top_img")||e.target.classList.contains("runtime-wrapper_time")||e.target.classList.contains("tips-content")||e.target.classList.contains("listting-content_img_content")||e.target.classList.contains("volume-wrapper_content_item")?e.isIntersecting?e.target.classList.add("visible"):e.target.classList.remove("visible"):e.target.classList.contains("selling-wrapper")?e.isIntersecting?(_||V(),e.target.classList.add("visible")):e.target.classList.remove("visible"):e.target.classList.contains("mainpro-wrapper")&&(e.isIntersecting&&!g?(g=!0,$(document).on("scroll.mainpro",h)):!e.isIntersecting&&g&&($(document).off("scroll.mainpro",h),n.unobserve(v)))})},s=new IntersectionObserver(t,i);$(".module-wrapper").each(function(){s.observe(this)}),$(".module-title").each(function(){s.observe(this)})}});
