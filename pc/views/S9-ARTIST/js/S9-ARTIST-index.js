document.addEventListener("DOMContentLoaded",V=>{$(window).on("beforeunload",function(){$(window).scrollTop(0)}),x(),$("#videoModal").on("show.bs.modal",function(e){let i=$(e.relatedTarget),n=i.data("videofly"),s=i.data("title");$("#modal-title").html(s),$(this).find("iframe").attr({src:n,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"})});function b(e,i,n){const s={root:null,rootMargin:"0px",threshold:.1},l=document.querySelectorAll(e);let t=i;const o=new IntersectionObserver((a,c)=>{a.forEach(r=>{r.isIntersecting&&(setTimeout(()=>{r.target.classList.add("visible"),c.unobserve(r.target)},t),t+=n)})},s);l.forEach(a=>{o.observe(a)})}const L=["https://static-ussite.tineco.com/%E5%A5%96%E9%A1%B9-1.png_eea44313-2.png","https://static-ussite.tineco.com/%E5%A5%96%E9%A1%B9-2.png_9a873b23-b.png","https://static-ussite.tineco.com/%E5%A5%96%E9%A1%B9-3.png_f09ba8ca-c.png","https://static-ussite.tineco.com/%E5%A5%96%E9%A1%B9-4.png_d71bbb93-b.png","https://static-ussite.tineco.com/%E5%A5%96%E9%A1%B9-5.png_f4cf9226-9.png","https://static-ussite.tineco.com/%E5%A5%96%E9%A1%B9-6.png_8deca155-d.png","https://static-ussite.tineco.com/%E5%A5%96%E9%A1%B9-7.png_d2c35860-d.png"];function E(){let e="";L.forEach(i=>{e+=`
      <div class="media-item">
        <img src="${i}" alt="">
      </div>
    `}),$(".media-wrapper_content").html(e),b(".media-item",0,150)}const I=window.OVERALL_LIST;function T(){const e=document.querySelector(".overall-wrapper_top"),i=e.querySelector(".overall-wrapper_top_right"),n=i.querySelector(".overall-wrapper_top_right_top"),s=n.querySelector(".overall-wrapper_top_right_top_left"),l=document.querySelector(".overall-wrapper_bottom");I.forEach(t=>{const o=document.createElement("div");switch(o.className=`overall-item ${t.type}`,o.setAttribute("data-to-wrapper",t.id),o.innerHTML=`
      <img src="${t.bgSrc}" alt="" class="overall-item_bg">
      <div class="overall-item_content">
        <div class="overall-item_content_title">${t.title}</div>
        <div class="overall-item_content_desc">${t.desc}</div>
      </div>
      <div class="overall-item_icon">
    `,t.type){case"type1":e.insertBefore(o,e.firstChild);break;case"type2":s.appendChild(o);break;case"type3":n.appendChild(o);break;case"type4":i.appendChild(o);break;case"type5":l.appendChild(o);break;default:console.warn(`Unknown type: ${t.type}`)}o.addEventListener("click",function(){const a=this.getAttribute("data-to-wrapper"),c=document.getElementById(a);if(c){const p=c.getBoundingClientRect().top+window.scrollY-70;window.scrollTo({top:p,behavior:"smooth"})}else console.warn(`No element found with id: ${a}`)})})}const S=window.AESTHETICS_LIST;function A(){let e="";S.forEach(i=>{e+=`
      <div class="aesthetics-item">
        <img src="${i.img}" alt="" class="aesthetics-item_img">
        <div class="aesthetics-item_title listting_base-subtitle">${i.title}</div>
      </div>
    `}),$(".aesthetics-wrapper").html(e)}const C=window.GIFT_LIST;function q(){const e=document.querySelector(".giflist-wrapper_content");e.innerHTML="";let i="";C.forEach((s,l)=>{const t=`src="${s.videoSrc}" loop muted  playsinline class="giflist-wrapper_gif-item_video" ${l===0?"autoplay":""}`;i+=`
        <div class="giflist-wrapper_gif-item">
          <video ${t}></video>
          <div class="giflist-wrapper_gif-item_title">${s.title}</div>
          <div class="giflist-wrapper_gif-item_desc">${s.description}</div>
        </div>
      `}),e.innerHTML=i;const n=e.querySelectorAll(".giflist-wrapper_gif-item");n.forEach((s,l)=>{setTimeout(()=>{s.classList.add("visible");const t=s.querySelector("video");s.addEventListener("mouseenter",()=>{n.forEach(o=>{const a=o.querySelector("video");a&&a!==t&&a.pause()}),t.play().catch(o=>{console.error("Error attempting to play video:",o)})}),s.addEventListener("mouseleave",()=>{t.pause()})},l*200)})}function M(){document.querySelectorAll(".giflist-wrapper_gif-item").forEach(i=>{i.classList.remove("visible")})}let u=!1;const B=window.SWIPER_LIST;function H(){const e=$(".selling-wrapper .selling-wrapper_content");B.forEach(i=>{const n='<div class="selling-item"><img src="'+i.imgSrc+'" alt="" class="selling-item_img"><div class="selling-item_content"><div class="selling-item_content_title">'+i.title+'</div><div class="selling-item_content_subtitle">'+i.subtitle+"</div></div></div>";e.append(n)}),u=!0}const v=document.querySelector(".mainpro-wrapper"),h=document.querySelectorAll(".product-item_img"),k=h.length,R=.5*window.innerHeight;let m=!1;function _(){const e=window.scrollY,i=v.offsetTop,n=(e-i)/R;let s=Math.floor(n);s=Math.min(s,k-1),h.forEach((l,t)=>{t<=s&&l.classList.add("show")})}let d=!1;function O(e){const i=$(e).find(".module-header"),n=i.find(".module-header_title"),s=$(e).find(".listting-module_content"),l=$(e).find(".listting-module_content .listting-content_content"),t=$(e).find(".listting-content_marks"),o=e.getBoundingClientRect().bottom,a=i[0].getBoundingClientRect().bottom,c=window.innerHeight,r=o-a;r<1.8*c&&!d?(d=!0,n.css({transform:"scale(3, 3)",opacity:"0"}),setTimeout(()=>{s.css("opacity","1")},300),l.length>0&&l.addClass("visible"),t.each(function(f,p){setTimeout(function(){$(p).addClass("visible")},f*300)})):r>=1.8*c&&d&&(d=!1,t.each(function(f,p){$(p).removeClass("visible")}),l.length>0&&l.removeClass("visible"),s.css("opacity","0"),n.css({transform:"scale(1, 1)",opacity:"1"}))}const w=document.querySelector(".gif-wrapper video"),g=document.querySelector(".gif-wrapper .gif-wrapper_content");function x(){const e={root:null,rootMargin:"0px",threshold:.1},i=(s,l)=>{s.forEach(t=>{if(t.target.classList.contains("media-wrapper")&&t.isIntersecting)E(),l.unobserve(t.target);else if(t.target.classList.contains("overall-wrapper")&&t.isIntersecting)T(),l.unobserve(t.target);else if(t.target.classList.contains("gif-wrapper"))t.isIntersecting?(w.play(),g.classList.add("in-view"),g.classList.remove("out-of-view")):(w.pause(),g.classList.add("out-of-view"),g.classList.remove("in-view"));else if(t.target.classList.contains("aesthetics-wrapper")&&t.isIntersecting)A(),l.unobserve(t.target);else if(t.target.classList.contains("listting-module-wrapper"))t.isIntersecting?$(document).on("scroll.listtingModule",()=>O(t.target)):$(document).off("scroll.listtingModule");else if(t.target.classList.contains("listting-content_content_step")){const o=t.target.querySelectorAll(".listting-content_content_step_text");t.isIntersecting?o.forEach((a,c)=>{const r=(c===0?1:0)*300;setTimeout(()=>{a.classList.add("visible")},r)}):o.forEach(a=>{a.classList.remove("visible")})}else if(t.target.classList.contains("giflist-wrapper_content"))t.isIntersecting?q():M();else if(t.target.classList.contains("rotating-wrapper_top_img")||t.target.classList.contains("runtime-wrapper_content_time")||t.target.classList.contains("tips-content")||t.target.classList.contains("features-item_img")||t.target.classList.contains("listting-content_img_content"))t.isIntersecting?t.target.classList.add("visible"):t.target.classList.remove("visible");else if(t.target.classList.contains("volume-wrapper_content")){const o=t.target.querySelectorAll(".volume-wrapper_content_item_title"),a=t.target.querySelectorAll(".volume-wrapper_content_item_subtitle");t.isIntersecting?(o.forEach(c=>c.classList.add("visible")),a.forEach(c=>c.classList.add("visible"))):(o.forEach(c=>c.classList.remove("visible")),a.forEach(c=>c.classList.remove("visible")))}else t.target.classList.contains("selling-wrapper_content")?t.isIntersecting?(u||H(),t.target.classList.add("visible")):t.target.classList.remove("visible"):t.target.classList.contains("mainpro-wrapper")?t.isIntersecting&&!m?(m=!0,$(document).on("scroll.mainpro",_)):!t.isIntersecting&&m&&($(document).off("scroll.mainpro",_),l.unobserve(v)):t.target.classList.contains("rotating-wrapper_img")&&(t.isIntersecting?t.target.play():t.target.pause())})},n=new IntersectionObserver(i,e);$(".module-wrapper").each(function(){n.observe(this)}),$(".module-title").each(function(){n.observe(this)})}});
